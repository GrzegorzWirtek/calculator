!function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);class n{constructor(){this.buttons=document.querySelectorAll(".calc__button"),this.input=document.querySelector(".calc__input"),this.buttonBehavior(this.buttons),this.isActionActive=!1,this.mainNumber=null,this.actualOperation=null,this.operatorOn=!1,this.isComaInNumber=!1,this.wrong=!1,window.addEventListener("keydown",t=>{this.takeKeyValue(t)})}displayValue(t){this.input.value.length<15&&(this.input.value+=t)}writeValue(t){if(this.operatorOn=!1,this.isActionActive&&(this.input.value="",this.isActionActive=!1),this.input.value.length>0&&this.input.value.length<2&&"0"===this.input.value.substr(0,1)&&"."!==t)this.input.value=t;else if("."!==t||this.isComaInNumber){if("."===t&&this.isComaInNumber)return;this.displayValue(t)}else this.displayValue(t),this.isComaInNumber=!0}resetAll(){this.isActionActive=!1,this.mainNumber=null,this.actualOperation=null,this.input.value="",this.isComaInNumber=!1,this.wrong=!1,this.operatorOn=!1}setAction(t){this.isActionActive=!0,this.chooseOperation(t),this.actualOperation=t}specyfiyPrecission(t){"Infinity"==t||isNaN(t)?(this.input.value="Wrong",this.wrong=!0):t.toPrecision(10).toString().length>t.toString().length?this.input.value=t:this.input.value=t.toPrecision(10).toString()}doMath(){if(this.wrong)this.resetAll();else if(!this.operatorOn)if(this.operatorOn=!0,"+"===this.actualOperation){const t=this.mainNumber+parseFloat(this.input.value);this.specyfiyPrecission(t)}else if("-"===this.actualOperation){const t=this.mainNumber-parseFloat(this.input.value);this.specyfiyPrecission(t)}else if("*"===this.actualOperation){const t=this.mainNumber*parseFloat(this.input.value);this.specyfiyPrecission(t)}else if("/"===this.actualOperation){const t=this.mainNumber/parseFloat(this.input.value);this.specyfiyPrecission(t)}}chooseOperation(t){if(this.actualOperation){if(this.doMath(),"="===this.actualOperation){if("="===this.actualOperation&&"="===t)return;this.doMath()}this.mainNumber=parseFloat(this.input.value)}else this.mainNumber=parseFloat(this.input.value)}takeKeyValue(t){3===t.location&&("+"!==t.key&&"-"!==t.key&&"*"!==t.key&&"/"!==t.key&&"Enter"!==t.key&&","!==t.key?this.writeValue(t.key):","===t.key?this.writeValue("."):(this.setAction(t.key),this.isComaInNumber=!1))}takeButtonValue(t){t.classList.contains("calc__button--nr")?(","===t.textContent&&(t.textContent="."),this.writeValue(t.textContent)):t.classList.contains("operation")?(this.setAction(t.textContent),this.isComaInNumber=!1):t.classList.contains("cancel")&&this.resetAll()}buttonBehavior(t){t.forEach(t=>t.addEventListener("mousedown",()=>{t.classList.add("calc__button--active"),this.takeButtonValue(t)})),t.forEach(t=>t.addEventListener("mouseup",()=>{t.classList.remove("calc__button--active")}))}}document.addEventListener("DOMContentLoaded",()=>{new n})}]);
//# sourceMappingURL=bundle.min.js.map